# Math Tutor - AIæ•°å­¦è¾…å¯¼å·¥å…·

åŸºäºå¤§æ¨¡å‹å¤šAgentæŠ€æœ¯å’ŒManimåº“çš„æ•°å­¦è¾…å¯¼å·¥å…·ï¼Œæ”¯æŒä»å°å­¦åˆ°å¤§å­¦å¾®ç§¯åˆ†çš„å¤šå¹´çº§æ•°å­¦é¢˜ç›®ï¼Œç”Ÿæˆç›´è§‚çš„æ•°å½¢ç»“åˆå¯è§†åŒ–è§†é¢‘ã€‚

## âœ¨ ä¸»è¦ç‰¹ç‚¹

- ğŸ§  **æ™ºèƒ½åˆ†æ**ï¼šè‡ªåŠ¨è¯†åˆ«é¢˜ç›®éš¾åº¦ï¼Œæ™ºèƒ½åˆ†æµå¤„ç†
- ğŸ“ **è¯¦ç»†è§£ç­”**ï¼šç”Ÿæˆåˆ†æ­¥éª¤è§£é¢˜è¿‡ç¨‹ï¼ŒéªŒè¯ç­”æ¡ˆæ­£ç¡®æ€§
- ğŸ¬ **å¯è§†åŒ–æ¼”ç¤º**ï¼šManimåŠ¨ç”»å±•ç¤ºè§£é¢˜è¿‡ç¨‹
- ğŸ¯ **å¤šå¹´çº§æ”¯æŒ**ï¼šå°å­¦ä½å¹´çº§ â†’ å°å­¦é«˜å¹´çº§ â†’ åˆä¸­ â†’ é«˜ä¸­ â†’ å¤§å­¦å¾®ç§¯åˆ†
- ğŸ”„ **LangGraphå·¥ä½œæµ**ï¼šå›¾çŠ¶æ€æœºæ¶æ„ï¼Œæ”¯æŒæ¡ä»¶åˆ†æ”¯å’Œé”™è¯¯æ¢å¤

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    React + TypeScript å‰ç«¯                   â”‚
â”‚              (Vite + TailwindCSS + TanStack Query)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚ REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FastAPI åç«¯ (Python)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                   LangGraph å·¥ä½œæµ                      â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚ åˆ†ç±»å™¨   â”‚â”€â”€â”€â–ºâ”‚ æ·±åº¦åˆ†æ â”‚â”€â”€â”€â–ºâ”‚ è§£é¢˜+éªŒè¯        â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚       â”‚ (ç®€å•é¢˜)                          â”‚            â”‚ â”‚
â”‚  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â–¼            â”‚ â”‚
â”‚  â”‚                                 â–¼    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ â”‚
â”‚  â”‚                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ å¯è§†åŒ–   â”‚      â”‚ â”‚
â”‚  â”‚                            â”‚        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â”‚ â”‚
â”‚  â”‚                            â”‚             â–¼            â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ â”‚
â”‚  â”‚  â”‚ é™çº§å¤„ç† â”‚â—„â”€â”€â”€â”‚ Manimæ‰§è¡Œ  â”‚â—„â”€â”€â”€â”‚ è°ƒè¯•ä¿®å¤ â”‚â—„â”€â”   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚ â”‚
â”‚  â”‚                                          â”‚        â”‚   â”‚ â”‚
â”‚  â”‚                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ |
|------|------|
| å‰ç«¯ | React 18, TypeScript, Vite, TailwindCSS |
| åç«¯ | FastAPI, Python 3.12, Pydantic |
| Agent | LangGraph, LangChain |
| å¯è§†åŒ– | Manim CE |
| éƒ¨ç½² | Docker, docker-compose |

## ğŸ“ é¡¹ç›®ç»“æ„

```
math-learning-tool/
â”œâ”€â”€ backend/                      # Python åç«¯
â”‚   â”œâ”€â”€ src/math_tutor/
â”‚   â”‚   â”œâ”€â”€ api/                  # FastAPI è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ application/          # ç”¨ä¾‹å±‚
â”‚   â”‚   â”œâ”€â”€ domain/               # é¢†åŸŸå±‚
â”‚   â”‚   â”œâ”€â”€ infrastructure/       # åŸºç¡€è®¾æ–½å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ agents/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ nodes/        # LangGraph èŠ‚ç‚¹
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ langgraph_engine.py
â”‚   â”‚   â”‚   â”œâ”€â”€ skills/           # æŠ€èƒ½ç³»ç»Ÿ
â”‚   â”‚   â”‚   â”œâ”€â”€ manim/            # Manim æ‰§è¡Œå™¨
â”‚   â”‚   â”‚   â””â”€â”€ llm/              # LLM æœåŠ¡
â”‚   â”‚   â””â”€â”€ config/               # é…ç½®
â”‚   â”œâ”€â”€ tests/                    # æµ‹è¯•
â”‚   â””â”€â”€ pyproject.toml
â”œâ”€â”€ frontend/                     # React å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/           # React ç»„ä»¶
â”‚   â”‚   â””â”€â”€ services/             # API æœåŠ¡
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ .env.example
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ææ¡ä»¶

- Python 3.12+
- Node.js 20+
- FFmpeg (Manimä¾èµ–)
- LLM APIå¯†é’¥ (DeepSeek/OpenAI/æœ¬åœ°æ¨¡å‹)

### æ–¹å¼ä¸€ï¼šDockeréƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/zelda3721/math-learning-tool.git
cd math-learning-tool

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env è®¾ç½® LLM_API_KEY

# 3. å¯åŠ¨æœåŠ¡
docker-compose up -d

# è®¿é—®ï¼š
# - å‰ç«¯: http://localhost:3000
# - API: http://localhost:8000/api/docs
```

### æ–¹å¼äºŒï¼šæœ¬åœ°å¼€å‘

#### åç«¯

```bash
cd backend

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate

# å®‰è£…ä¾èµ–
pip install -e ".[dev]"

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
uvicorn math_tutor.api.main:app --reload --host 0.0.0.0 --port 8000

# APIæ–‡æ¡£: http://localhost:8000/api/docs
```

#### å‰ç«¯

```bash
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# è®¿é—®: http://localhost:5173
```

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡ (.env)

```bash
# LLMé…ç½®
LLM_API_BASE=https://api.deepseek.com/v1
LLM_API_KEY=your_api_key
LLM_MODEL=deepseek-chat

# Manimé…ç½®
MANIM_QUALITY=low  # low/medium/high

# å¯é€‰ï¼šä½¿ç”¨æœ¬åœ°æ¨¡å‹
# LLM_API_BASE=http://localhost:9997/v1
# LLM_MODEL=qwen2.5-72b-instruct
```

### å¹´çº§é…ç½®

ç³»ç»Ÿæ”¯æŒ5ä¸ªæ•™è‚²é˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µæœ‰ä¸åŒçš„æ€ç»´é£æ ¼å’Œå¯è§†åŒ–é£æ ¼ï¼š

| å¹´çº§ | æ€ç»´é£æ ¼ | å¯è§†åŒ–ç‰¹ç‚¹ |
|------|----------|------------|
| å°å­¦ä½å¹´çº§ | å…·è±¡æ€ç»´ | å½©è‰²å›¾æ ‡ã€å¤§å­—ä½“ã€æ…¢åŠ¨ç”» |
| å°å­¦é«˜å¹´çº§ | åŠæŠ½è±¡ | å›¾å½¢åŒ–ã€æ­¥éª¤æ¸…æ™° |
| åˆä¸­ | æŠ½è±¡æ€ç»´ | å‡ ä½•å›¾å½¢ã€å…¬å¼æ¨å¯¼ |
| é«˜ä¸­ | å½¢å¼åŒ– | å‡½æ•°å›¾åƒã€æ•°å­¦ç¬¦å· |
| å¤§å­¦ | é«˜åº¦æŠ½è±¡ | 3Blue1Browné£æ ¼ |

## ğŸ§ª è¿è¡Œæµ‹è¯•

```bash
# åç«¯æµ‹è¯•
cd backend
pytest tests/ -v

# å‰ç«¯æµ‹è¯•
cd frontend
npm run test
```

## ğŸ“ APIç«¯ç‚¹

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| `GET` | `/api/health` | å¥åº·æ£€æŸ¥ |
| `GET` | `/api/v1/grades` | è·å–å¹´çº§åˆ—è¡¨ |
| `POST` | `/api/v1/problems/process` | å®Œæ•´å¤„ç†æµç¨‹ |
| `POST` | `/api/v1/problems/analyze` | ä»…åˆ†æé¢˜ç›® |
| `POST` | `/api/v1/problems/solve` | ä»…è§£é¢˜ |

### è¯·æ±‚ç¤ºä¾‹

```bash
curl -X POST http://localhost:8000/api/v1/problems/process \
  -H "Content-Type: application/json" \
  -d '{
    "problem": "å°æ˜æœ‰25ä¸ªç³–æœï¼Œç»™äº†å°çº¢8ä¸ªï¼Œç°åœ¨æœ‰å¤šå°‘ä¸ªï¼Ÿ",
    "grade": "elementary_upper"
  }'
```

## ğŸ”§ è°ƒè¯•æŒ‡å—

### å¸¸è§é—®é¢˜

1. **Manimæ‰§è¡Œå¤±è´¥**
   - ç¡®ä¿å®‰è£…äº†FFmpeg: `ffmpeg -version`
   - æ£€æŸ¥mediaç›®å½•æƒé™

2. **LLMè¿æ¥å¤±è´¥**
   - æ£€æŸ¥.envä¸­çš„APIé…ç½®
   - éªŒè¯APIå¯†é’¥æœ‰æ•ˆæ€§

3. **å‰ç«¯æ— æ³•è¿æ¥åç«¯**
   - ç¡®ä¿åç«¯è¿è¡Œåœ¨8000ç«¯å£
   - æ£€æŸ¥CORSé…ç½®

### æ—¥å¿—æŸ¥çœ‹

```bash
# åç«¯æ—¥å¿—
docker-compose logs backend -f

# æˆ–ç›´æ¥è¿è¡Œæ—¶
uvicorn math_tutor.api.main:app --reload --log-level debug
```

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ™ è‡´è°¢

- [LangGraph](https://github.com/langchain-ai/langgraph) - Agentå·¥ä½œæµ
- [Manim CE](https://github.com/ManimCommunity/manim) - æ•°å­¦åŠ¨ç”»åº“
- [DeepSeek](https://www.deepseek.com) - å¤§è¯­è¨€æ¨¡å‹
- [FastAPI](https://fastapi.tiangolo.com) - åç«¯æ¡†æ¶
- [React](https://react.dev) - å‰ç«¯æ¡†æ¶
